# 组件状态

组件状态：组件可以自行维护的数据

组件状态仅在类组件有效

状态（state）:本质上是类组件的一个属性，是一个对象


## 组件状态初始化

1. 在constructor中初始化

```js
constructor(props){
    super(props);
    // 初始化组件
    this.state = {
        lastTime:this.props.number
    }
}
```

2. 直接初始化,使用JS Next语法

```js

// 初始化组件
state = {
    lastTime: this.props.number,
};
```


## 组件状态的改变

不能直接改变状态，因为React无法监控到状态发生了变化。

必须使用 this.setState({}) 改变状态

一旦调用this.setState会导致组件重新渲染


```js
constructor(props){
    super(props);
    // 初始化组件
    this.state = {
        lastTime:this.props.number
    }
    this.timer = setInterval(()=>{
        // 重新设置状态
        this.setState({
            lastTime:this.state.lastTime - 1
        })
    },1000)
}
```