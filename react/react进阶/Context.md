# Context

上下文：做某一些事情的环境


React上下文的特点：
1. 当某个组件创建上下文后，上下文中的数据会被所有后代组件共享;
2. 如果某个组件依赖了上下文，会导致该组件不再纯粹(数据仅来自于属性props)

## 旧版API

**创建上下文**

只有类组件才能创建上下文

1. 给类组件书写一个静态属性```childContextTypes```,对上下文中的数据类型进行约束;
2. 添加实例方法 ```getChildContext```,该方法返回的对象就是上下文中的数据，该数据必须满足类型约束，该方法会在每次render之后运行

**使用上下文中的数据**

要求：如果要使用上下文中的数据，组件中必须有一个静态属性```contextTypes```,该属性描述了需要获取的上下文中的数据类型

1. 可以在组件的构造函数中，通过构造函数的第二个参数，获取上下文数据
2. 从组件的context属性中获取
3. 在函数组件中通过第二个参数获取上下文数据

**上下文中的数据变化**

上下文中的数据不可以直接变化，最终都是通过状态改变

后代组件想要修改上下文中的数据，可以通过调用上下文中的函数来修改。